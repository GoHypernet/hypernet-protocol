<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.59">
<link rel="search" type="application/opensearchdescription+xml" title="statechannels docs" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Chivo&display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Recommended patterns | statechannels docs</title><meta data-react-helmet="true" property="og:image" content="https://docs.statechannels.org/img/undraw_online.svg"><meta data-react-helmet="true" property="twitter:image" content="https://docs.statechannels.org/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for statechannels docs"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Recommended patterns | statechannels docs"><meta data-react-helmet="true" name="description" content="This page details some of the patterns we have adopted in our example apps (Web3Torrent and Rock Paper Scissors)."><meta data-react-helmet="true" property="og:description" content="This page details some of the patterns we have adopted in our example apps (Web3Torrent and Rock Paper Scissors)."><meta data-react-helmet="true" property="og:url" content="https://docs.statechannels.org/app-devs/recommended-patterns"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://docs.statechannels.org/app-devs/recommended-patterns"><link rel="stylesheet" href="/styles.e0b33fa7.css">
<link rel="preload" href="/styles.8e0db825.js" as="script">
<link rel="preload" href="/runtime~main.27671965.js" as="script">
<link rel="preload" href="/main.03452097.js" as="script">
<link rel="preload" href="/2.4ee922d7.js" as="script">
<link rel="preload" href="/3.4c7fc1f6.js" as="script">
<link rel="preload" href="/4.a5988223.js" as="script">
<link rel="preload" href="/1be78505.75ec5049.js" as="script">
<link rel="preload" href="/369.23cc9095.js" as="script">
<link rel="preload" href="/ec1ed54d.db84b9ba.js" as="script">
<link rel="preload" href="/17896441.61fde53e.js" as="script">
<link rel="preload" href="/a4e48573.54a6730b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg"><strong class="navbar__title">statechannels docs</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a class="navbar__item navbar__link" href="/typescript-api/index">Typescript API</a><a class="navbar__item navbar__link" href="/contract-api/contract-inheritance">Contract API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg"><strong class="navbar__title">statechannels docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/typescript-api/index">Typescript API</a></li><li class="menu__list-item"><a class="menu__link" href="/contract-api/contract-inheritance">Contract API</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">statechannels docs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/products">Our products</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">App Developers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/app-devs/app-devs-intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/app-devs/quick-start-contracts">Quick start (contracts)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/app-devs/quick-start-dapp">Quick start (Dapp)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/app-devs/hook-up-messaging">Hook up your messaging layer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/app-devs/make-api-calls">Make Wallet API calls</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/app-devs/recommended-patterns">Recommended patterns</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Protocol Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-docs/wallet-devs-intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-docs/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-docs/tutorial">Tutorial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Protocol Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/execute-state-transitions">Execute state transitions off chain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/deposit-assets">Deposit Assets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/finalize-a-channel-happy">Finalize a channel (happy)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/finalize-a-channel-sad">Finalize a channel (sad)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/understand-channel-storage">Understand channel storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/clear-a-challenge">Clear a challenge</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/outcomes">Understand Outcomes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/release-assets">Release assets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol-tutorial/off-chain-funding">Off-chain funding</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Implementation Notes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/implementation-notes/contract-devs-intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/implementation-notes/asset-holder">AssetHolder.sol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/implementation-notes/force-move">ForceMove.sol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/implementation-notes/nitro-adjudicator">NitroAdjudicator.sol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/implementation-notes/null-app">Null app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/implementation-notes/single-asset-payments">SingleAssetPayments.sol</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Recommended patterns</h1></header><div class="markdown"><p>This page details some of the patterns we have adopted in our example apps (<a href="https://blog.statechannels.org/introducing-web3torrent/" target="_blank" rel="noopener noreferrer">Web3Torrent</a> and <a href="https://blog.statechannels.org/deconstructing-a-state-channel-application/" target="_blank" rel="noopener noreferrer">Rock Paper Scissors</a>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="decide-on-a-funding-strategy"></a>Decide on a funding strategy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#decide-on-a-funding-strategy" title="Direct link to heading">#</a></h2><p>This decision has an impact on how your design your application.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="direct"></a>Direct<a aria-hidden="true" tabindex="-1" class="hash-link" href="#direct" title="Direct link to heading">#</a></h3><p>The user experience for a <strong>directly</strong> funded channel is that users need to deposit funds on chain during channel setup, and release them on chain during channel teardown. The wallet UI will pop up at the appropriate time to guide the user through those transactions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="virtual"></a>Virtual<a aria-hidden="true" tabindex="-1" class="hash-link" href="#virtual" title="Direct link to heading">#</a></h3><p>The user experience for a <strong>virtually</strong> funded channel is improved, in that users need only perform blockchain transactions in order to setup and a teard own a &quot;site budget&quot; and <a href="/../protocol-tutorial/off-chain-funding">ledger channel</a> connection to a state channel hub.</p><p>They might set this up on their first visit to your application, and maintain it for the lifetime of many application channels, which are then funded virtually through the hub. Importantly, the wallet UI <strong>will</strong> pop up when administering the hub connection, but will <strong>not</strong> pop up during management of application channels.</p><p>This route is best when you need to setup and teardown many channels between many distinct peers during the course of the application (as you would, for example, in a torrenting application).</p><p>Using the virtual funding strategy demands a much greater effort with respect to infastructure you must provide -- in particular it requires a state channel hub to be running. At the protocol level, this is just another statechannel participant: but in practice it needs to fulfill a number of important properties: for example, to be well funded, operate without user input and so on. Our reference implementation of such a hub is coming soon.</p><p>For a simple game like Rock Paper Scissors, the advantages of virtual funding may or may not be considered necessary. Regardless, switching from direct-funding to virtual-funding at a later stage should be straightforward: statechannel execution should be completely independent of the funding mechanism.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="application-coding"></a>Application coding<a aria-hidden="true" tabindex="-1" class="hash-link" href="#application-coding" title="Direct link to heading">#</a></h2><p>In order for your app to construct state updates of the right format, you&#x27;ll need to write some Javascript or Typescript helper code. The purpose of this code is to translate between the general-purpose, <a href="/app-devs/quick-start-contracts">protocol-level concepts of <code>appData</code> and <code>outcome</code></a> and the specific data structures that your application needs to work with. Those structures should mirror those in the Solidity code you have already written. Here&#x27;s an idea of what we did in Rock Paper Scissors (see the Solidity code <a href="https://github.com/statechannels/apps/blob/master/packages/rps/contracts/RockPaperScissors.sol" target="_blank" rel="noopener noreferrer">here</a>):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">defaultAbiCoder</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> bigNumberify</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> keccak256</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;ethers/utils&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token maybe-class-name">HashZero</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;ethers/constants&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">randomHex</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;../utils/randomHex&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">unreachable</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;../utils/unreachable&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Rock</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Paper</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Scissors</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Start</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// 0</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">RoundProposed</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// 1</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">RoundAccepted</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// 2</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token maybe-class-name">Reveal</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// 3</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">RPSData</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  positionType</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  stake</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// uint256</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  preCommit</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// bytes32</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  playerAWeapon</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  playerBWeapon</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  salt</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// bytes32</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Start</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;start&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  stake</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">RoundProposed</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;roundProposed&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  stake</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  preCommit</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">RoundAccepted</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;roundAccepted&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  stake</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  preCommit</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  playerBWeapon</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Reveal</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;reveal&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  playerAWeapon</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  playerBWeapon</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  stake</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  salt</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token plain"> </span><span class="token maybe-class-name">AppData</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token maybe-class-name">Start</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token maybe-class-name">RoundProposed</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token maybe-class-name">RoundAccepted</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token maybe-class-name">Reveal</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">toRPSData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">appData</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> AppData</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">RPSData</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> positionType</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appData</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;start&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      positionType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">Start</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">break</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;roundProposed&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      positionType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">RoundProposed</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">break</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;roundAccepted&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      positionType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">RoundAccepted</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">break</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;reveal&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      positionType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">Reveal</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">break</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> defaults</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">RPSData</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    positionType</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    stake</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">bigNumberify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">toString</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    preCommit</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">HashZero</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    playerAWeapon</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">Rock</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    playerBWeapon</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Weapon</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">Rock</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    salt</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">randomHex</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">64</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token spread operator" style="color:#d7deea">...</span><span class="token plain">defaults</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#d7deea">...</span><span class="token plain">appData</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">encodeAppData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">appData</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> AppData</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">encodeRPSData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function" style="color:#79b6f2">toRPSData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appData</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">encodeRPSData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">rpsData</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> RPSData</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> defaultAbiCoder</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">encode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;tuple(uint8 positionType, uint256 stake, bytes32 preCommit, uint8 playerAWeapon, uint8 playerBWeapon, bytes32 salt)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">rpsData</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">decodeAppData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">appDataBytes</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">AppData</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> parameters </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> defaultAbiCoder</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">decode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;tuple(uint8 positionType, uint256 stake, bytes32 preCommit, uint8 playerAWeapon, uint8 playerBWeapon, bytes32 salt)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    appDataBytes</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> positionType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">as</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> stake </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">toString</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> preCommit </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> playerAWeapon </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> playerBWeapon </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">4</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> salt </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">positionType</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">Start</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> start</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Start</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;start&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        stake</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> start</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">RoundProposed</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> roundProposed</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">RoundProposed</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;roundProposed&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        stake</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        preCommit</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> roundProposed</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">RoundAccepted</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> roundAccepted</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">RoundAccepted</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;roundAccepted&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        stake</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        preCommit</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        playerBWeapon</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> roundAccepted</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">case</span><span class="token plain"> </span><span class="token maybe-class-name">PositionType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access maybe-class-name">Reveal</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> reveal</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">Reveal</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;reveal&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        playerAWeapon</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        playerBWeapon</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        salt</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        stake</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> reveal</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">default</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">unreachable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">positionType</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">hashPreCommit</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">weapon</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> Weapon</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> salt</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">keccak256</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">defaultAbiCoder</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">encode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;uint256&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;bytes32&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">weapon</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> salt</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="wrapping-the-channelclient"></a>Wrapping the channelClient<a aria-hidden="true" tabindex="-1" class="hash-link" href="#wrapping-the-channelclient" title="Direct link to heading">#</a></h2><p>We recommend that you wrap the channelClient in an <code>AppSecificChannelClient</code>, which can leverage your app-specific coding <a href="#application-coding">as above</a>. This additional layer of abstraction should result in cleaner code for the rest of your application.</p><p>Here&#x27;s a sketch of what we did with Rock Paper Scissors (full code available <a href="https://github.com/statechannels/apps/blob/master/packages/rps/src/utils/rps-channel-client.ts" target="_blank" rel="noopener noreferrer">here</a>):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">RPSChannelClient</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// store our instance of the ChannelClient as a propery of this class</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">constructor</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">readonly channelClient</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> ChannelClient</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">createChannel</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    aAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    bAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    aBal</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    bBal</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    appAttrs</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">AppData</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    aOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> aAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    bOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">string</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> bAddress</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#FAC863">Promise</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token maybe-class-name">ChannelState</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> participants </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">formatParticipants</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">aAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> bAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> aOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> bOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> allocations </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">formatAllocations</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">aOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> bOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> aBal</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> bBal</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> appDefinition </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">RPS_ADDRESS</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> appData </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">encodeAppData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appAttrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> channelResult </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">channelClient</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">createChannel</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      participants</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      allocations</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      appDefinition</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      appData</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;Direct&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">convertToChannelState</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">channelResult</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// Accepts an app-specific callback,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// performs the necessary encoding, and subscribes to the</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// channelClient with an appropriate, API-compliant callback</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">onChannelUpdated</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function-variable function" style="color:#79b6f2">appCallback</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">channelState</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> ChannelState</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#d7deea">=&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">any</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">channelClient</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">onChannelUpdated</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token parameter">cr</span><span class="token plain"> </span><span class="token arrow operator" style="color:#d7deea">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> channelState </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">convertToChannelState</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cr</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token function" style="color:#79b6f2">appCallback</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">channelState</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// ... and wrappers for the other methods</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> convertToChannelState </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">channelResult</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token maybe-class-name">ChannelResult</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token parameter">ChannelState</span><span class="token plain"> </span><span class="token arrow operator" style="color:#d7deea">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    turnNum</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    channelId</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    status</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    participants</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    allocations</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    appData</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    challengeExpirationTime</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> channelResult</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    channelId</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    turnNum</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> turnNum</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">toString</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    status</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    challengeExpirationTime</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    appData</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">decodeAppData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appData</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    aUserId</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> participants</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">participantId</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    bUserId</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> participants</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">participantId</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    aAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> participants</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">destination</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    bAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> participants</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">destination</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    aOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> participants</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">destination</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    bOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> participants</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">destination</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    aBal</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">bigNumberify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">allocations</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">allocationItems</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">amount</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">toString</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    bBal</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">bigNumberify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">allocations</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">allocationItems</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">amount</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">toString</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#79b6f2">formatParticipants</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token parameter">aAddress</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#ffffff"><span class="token parameter">  bAddress</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#ffffff"><span class="token parameter">  aOutcomeAddress</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string </span><span class="token parameter operator" style="color:#d7deea">=</span><span class="token parameter"> aAddress</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#ffffff"><span class="token parameter">  bOutcomeAddress</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string </span><span class="token parameter operator" style="color:#d7deea">=</span><span class="token parameter"> bAddress</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#d7deea">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">participantId</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> aAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> signingAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> aAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> destination</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> aOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">participantId</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> bAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> signingAddress</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> bAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> destination</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> bOutcomeAddress</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#79b6f2">formatAllocations</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">aAddress</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> bAddress</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> aBal</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#8dc891">,</span><span class="token parameter"> bBal</span><span class="token parameter punctuation" style="color:#8dc891">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#d7deea">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      token</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;0x0&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// We are sticking to ETH here</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      allocationItems</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">destination</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> aAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> amount</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">bigNumberify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">aBal</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">toHexString</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">destination</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> bAddress</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> amount</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">bigNumberify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">bBal</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">toHexString</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="maintain-a-cache-of-channel-state"></a>Maintain a cache of channel state<a aria-hidden="true" tabindex="-1" class="hash-link" href="#maintain-a-cache-of-channel-state" title="Direct link to heading">#</a></h2><p>This is convenient data structure to maintain inside your channel client wrapper, as it can provide data synchronously to your UI.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-09-14T23:28:53.000Z" class="docLastUpdatedAt_217_">9/14/2020</time> by <strong>Caleb Ditchfield</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/app-devs/make-api-calls"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Make Wallet API calls</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/protocol-docs/wallet-devs-intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduction Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#decide-on-a-funding-strategy" class="table-of-contents__link">Decide on a funding strategy</a><ul><li><a href="#direct" class="table-of-contents__link">Direct</a></li><li><a href="#virtual" class="table-of-contents__link">Virtual</a></li></ul></li><li><a href="#application-coding" class="table-of-contents__link">Application coding</a></li><li><a href="#wrapping-the-channelclient" class="table-of-contents__link">Wrapping the channelClient</a></li><li><a href="#maintain-a-cache-of-channel-state" class="table-of-contents__link">Maintain a cache of channel state</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" src="/img/logo.svg"></div><div>Copyright Â© 2020</div></div></div></footer></div>
<script src="/styles.8e0db825.js"></script>
<script src="/runtime~main.27671965.js"></script>
<script src="/main.03452097.js"></script>
<script src="/2.4ee922d7.js"></script>
<script src="/3.4c7fc1f6.js"></script>
<script src="/4.a5988223.js"></script>
<script src="/1be78505.75ec5049.js"></script>
<script src="/369.23cc9095.js"></script>
<script src="/ec1ed54d.db84b9ba.js"></script>
<script src="/17896441.61fde53e.js"></script>
<script src="/a4e48573.54a6730b.js"></script>
</body>
</html>